IMOBUNIFYPlatforma de Unificare Imobiliară din RomâniaSPECIFICAȚII TEHNICE FINALE🔧 No-Code Integration Builder🤖 Multi-Model AI (Ollama + Cloud)🏠 Self-Hosted on Synology NAS💳 Stripe + Configurable Plans📋 Full Audit LoggingVersiune: 3.0 FINAL | Ianuarie 2026TOATE DECIZIILE CONFIRMATE1. Sumar Decizii FinaleToate deciziile tehnice au fost confirmate. Acest document reprezintă specificația finală.CategorieDecizieDetaliiFrontendReact.js + Redux ToolkitSPA, MUI componentsBackendNode.js + Express REST APITypeScript, Prisma ORMDatabasePostgreSQLRobust, JSON supportHostingSynology NAS + DockerSelf-hosted, backup integratIntegrăriNo-Code/Low-Code BuilderVisual adapter creator în AdminAI LocalOllama (server separat opțional)Multi-model per taskAI CloudOpenAI/Anthropic ca fallbackConfigurabil din AdminPaymentsStripeCheckout, webhooks, portalSubscriptionsMultiple tiers + Trial100% configurabil din AdminAdminSingle-tenant + Audit LogToate acțiunile logateBackupLocal + RemoteSynology + Backblaze B22. Tech Stack Complet2.1 Stack PrincipalLayerTehnologieVersiuneNoteFrontend WebReact.js18.xVite build toolState ManagementRedux Toolkit2.xRTK Query pentru APIUI ComponentsMaterial-UI5.xAdmin-ready componentsBackend APINode.js + Express20.x LTSTypeScriptORMPrisma5.xType-safe, migrationsDatabasePostgreSQL15.xCompatible SynologyCache/QueueRedis + BullMQ7.xJobs, cachingSearchMeilisearch1.xSelf-hosted, fastAI RuntimeOllamaLatestServer separat dacă GPUReverse ProxyNginxLatestSSL, routingContainersDocker ComposeLatestSynology support2.2 NPM DependenciesBackendPackageScopexpress + cors + helmetWeb framework + security@prisma/client + prismaDatabase ORMbullmq + ioredisJob queuejsonwebtoken + bcryptAuthstripePaymentscheerio + axiosScrapingsharp + image-hashImage processingwinstonLoggingFrontendPackageScop@reduxjs/toolkitState management@mui/material + @mui/x-data-gridUI componentsreact-router-domRoutingreact-hook-form + zodForms + validationrechartsChartsreact-beautiful-dndDrag & drop builder3. No-Code Integration Builder✅ CONFIRMAT: Adaptorii vor fi creați vizual din Admin PanelSistemul permite crearea de noi integrări cu platforme imobiliare direct din interfața de administrare, fără a scrie cod.3.1 Pașii Builder-uluiPasAcțiuneDescriere1. SourceConfigurare sursăURL, tip (HTML/API), auth, rate limits2. List PageDefinire listăSelector container, paginare, link detalii3. FieldsMapare câmpuriCSS selectors pentru preț, titlu, etc.4. TransformTransformăriRegex, formatare, validare5. TestTestare livePreview pe URL-uri reale3.2 Field Mapping InterfaceUI vizual pentru maparea câmpurilor standard:Câmp StandardTip SelectorTransforms DisponibiletitleCSS / XPathtrim, decode HTMLpriceCSS / XPathextractNumber, parseCurrencycurrencyCSS / XPath / Auto-detectmapCurrency (RON/EUR)descriptionCSS / XPathtrim, truncatearea_sqmCSS / XPath / RegexextractNumberroomsCSS / XPath / RegexparseIntlocation.cityCSS / XPathnormalize, trimlocation.neighborhoodCSS / XPathnormalizeimages[]CSS (multiple)resolveURL, arrayexternal_idURL param / CSS attrtrim3.3 Transform FunctionsTransformInputOutputtrim()' text ''text'extractNumber()'50.000 EUR'50000extractCurrency()'50.000 EUR''EUR'resolveURL()'./img.jpg'Full absolute URLregex(pattern, group)Any stringMatched groupreplace(find, replace)StringModified stringsplit(delim)[index]'a,b,c'Selected elementdefault(value)null/undefinedDefault value3.4 Live Testing PanelURL Input - introdu un URL real pentru testFetch & Parse - execută extracția liveField Highlighting - evidențiază elementele găsiteJSON Preview - vezi output-ul structuratError Display - erori cu sugestii de fixBatch Test - testează pe 5-10 pagini4. Sistem AI Multi-Model✅ CONFIRMAT: Ollama local + Cloud fallback, modele diferite per task4.1 Arhitectura AIComponentăLocațieRolAI GatewayContainer DockerRouter pentru toate request-urile AIOllama ServerServer separat (opțional)Rulare modele localeCloud APIsOpenAI / AnthropicFallback sau task-uri complexeModel RegistryDatabase configConfigurare per task4.2 Model Assignment per Task⚙️ CONFIGURABIL: Fiecare task poate folosi un model diferitTaskModel RecomandatRAM NecesarFallbackFeature Extractionllama3:8b / mistral:7b8-16 GBGPT-3.5Text Summarizationllama3:8b / phi38-16 GBGPT-3.5Deduplicationnomic-embed-text2-4 GBtext-embedding-3Fraud Detectionllama3:8b8-16 GBGPT-4Chatbotllama3:70b / GPT-432+ GB / CloudGPT-3.5Image Analysisllava:13b16+ GBGPT-4-vision4.3 Deployment OllamaOpțiunea 1: CPU Only (pe Synology sau alt server)16GB+ RAM necesarModele mici: llama3:8b, mistral:7b, phi310-30 secunde per requestOpțiunea 2: Server cu GPU (recomandat pentru volume mari)NVIDIA GPU cu 8GB+ VRAMDocker cu NVIDIA Container Toolkit1-5 secunde per requestOpțiunea 3: Cloud GPU on-demandVast.ai / RunPod pentru GPU la cererePornești doar când e nevoie5. Admin Panel✅ CONFIRMAT: Single-tenant cu Audit Log complet5.1 Secțiuni AdminSecțiuneFuncționalitățiAuditDashboardMetrics, health, quick actionsViewIntegrationsNo-code builder, sync, logs✅AI SettingsProvider config, models, test✅Subscription PlansCRUD plans, pricing, features✅UsersView, manage subs, impersonate✅PaymentsTransactions, refunds✅ContentModerate listings, fraud reports✅SystemEmail, branding, maintenance✅Audit LogView, filter, export logsMetaBackupsManual backup, restore✅5.2 Audit Log SchemaCâmpTipDescriereidUUIDPrimary keytimestampDateTimeCând s-a întâmplatadmin_idFK → UserCine a făcut acțiuneaadmin_emailStringEmail (denormalized)actionEnumCREATE/UPDATE/DELETE/etc.resource_typeStringintegration/plan/user/etc.resource_idStringID resursachangesJSON{before, after}ip_addressStringIP adminuser_agentStringBrowser5.3 Subscription Plans Editor⚙️ CONFIGURABIL: Toate câmpurile editabile din AdminCâmpTipDescrierenameTextNume plan (Pro, Business)slugText autoIdentificator unicpriceMonthly / priceYearlyNumberPrețuri în RONtrialDaysNumber 0-90Zile trialmaxSearchProfilesNumber / -1Limite (-1 = unlimited)maxSavedListingsNumber / -1LimitealertTypesMulti-selectemail_daily, push, etc.featuresJSON togglesAI, export, price historyisActive / isFeaturedToggleVisibilitystripePriceIdsTextFrom Stripe Dashboard6. Deployment Synology NAS✅ CONFIRMAT: Docker + Backup local și remote6.1 Cerințe HardwareSpecMinimRecomandatModelDS220+, DS720+DS920+, DS1522+RAM4 GB8-16 GBStorage2x 4TB RAID14x 4TB+ RAID5DSM7.0+7.2+6.2 Docker ContainersContainerImagePortpostgrespostgres:15-alpine5432redisredis:7-alpine6379meilisearchgetmeili/meilisearch:v17700apiimobunify/api:latest3000adminimobunify/admin:latest3001webimobunify/web:latest3002workerimobunify/worker:latest-nginxnginx:alpine80, 4436.3 Backup Strategy⚙️ CONFIGURABIL: Schedule configurabil din AdminLocal (Synology Hyper Backup)CeFrecvențăRetențiePostgreSQL dumpZilnic 3 AM30 zileRedis RDBLa 6 ore7 zileUploadsZilnic60 zileConfigsLa modificareGitRemote (Backblaze B2 / Synology C2)CeFrecvențăRetențieDB + ConfigsZilnic90 zileFull backupSăptămânal6 luni7. Model Date (Prisma)7.1 UserCâmpTipNoteidString @idUUIDemailString @uniquepasswordHashStringbcryptroleRole @default(USER)USER/ADMINplanIdString?FK → PlansubscriptionStatusSubStatusTRIAL/ACTIVE/etc.stripeCustomerIdString? @unique7.2 IntegrationCâmpTipNoteidString @idUUIDnameString @uniqueIdentificatordisplayNameStringNume afișatenabledBoolean @default(false)sourceConfigJsonURL, auth, rate limitsfieldMappingsJsonSelectors per fieldscheduleString?Cron expressionlastSyncAtDateTime?lastSyncStatusSyncStatus7.3 SubscriptionPlanCâmpTipNoteidString @idUUIDname / slugStringNume și identificatorpriceMonthly / priceYearlyDecimalÎn RONtrialDaysInt @default(0)limitsJsonmaxProfiles, maxSavedfeaturesJsonAI, export, etc.stripePriceIdsJsonmonthly, yearly8. Roadmap8.1 Faza 1: MVP (Luna 1-3)Obiectiv: Admin complet, No-Code Builder, 1-2 integrări, StripeSetup: Docker, Prisma, Auth, Audit LogAdmin Panel shell + System SettingsNo-Code Builder UI (toate 5 steps)Scraping engine bazat pe configurațiiAI Gateway + Ollama integrationSubscription Plans CRUD + StripeUser app: search, filter, savePrima integrare reală (test)M1: Admin live, Builder funcțional, Stripe live, Beta users8.2 Faza 2: Scale (Luna 4-6)3-5 integrări platforme realeDeduplicare (image hash + AI)Push notificationsPrice history + chartsAI features în producțieMobile responsiveM2: 5+ surse, 2000 users, 200 paying8.3 Faza 3: Growth (Luna 7-12)Native mobile appsAI Chatbot searchMarket analyticsPublic APIEnterprise tierM3: 20.000 MAU, 1.000 paying, platform matură9. Checklist FinalDecizieValoareStatusFrontendReact + Redux + MUI✅ FINALBackendNode + Express + Prisma✅ FINALDatabasePostgreSQL✅ FINALHostingSynology + Docker✅ FINALIntegrationsNo-Code Builder✅ FINALAI LocalOllama (server separat opt.)✅ FINALAI per TaskModele diferite config.✅ FINALPaymentsStripe✅ FINALPlansMultiple tiers din Admin✅ FINALTrialConfigurabil per plan✅ FINALAdminSingle-tenant✅ FINALAudit LogComplet✅ FINALBackupLocal + Remote✅ FINAL9.1 Următorii PașiReview final specificațiiSetup Git repositoryConfigurare Synology + DockerSprint 1: FoundationContact platforme pentru parteneriate══════════════════════════════════════════DOCUMENT FINAL - READY FOR DEVELOPMENTVersiune 3.0 | Ianuarie 2026══════════════════════════════════════════
